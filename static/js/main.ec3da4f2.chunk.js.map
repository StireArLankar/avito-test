{"version":3,"sources":["components/Controls/Filters/filters.module.scss","components/ProductsList/product.module.scss","components/Controls/Sorting/sorting.module.scss","components/ProductsList/products.module.scss","components/Controls/controls.module.scss","components/ProductsList/fav.module.scss","app/app.module.scss","context/products.tsx","context/sellers.tsx","app/with-sellers.tsx","context/filters-data.tsx","context/filters.tsx","app/with-filters.tsx","context/sorting/sorting-data.tsx","context/sorting/index.tsx","app/with-sorting.tsx","context/favourites.tsx","app/with-favourites.tsx","components/Controls/Filters/inputs/Checkbox.tsx","components/Controls/Filters/inputs/Select.tsx","components/Controls/Filters/inputs/SumRange.tsx","components/Controls/Filters/index.tsx","components/Controls/Sorting/SortingItem.tsx","components/Controls/Sorting/index.tsx","components/Controls/index.tsx","components/ProductsList/heart.svg","components/ProductsList/FavButton.tsx","components/ProductsList/ProductPreview.tsx","utils/index.tsx","components/ProductsList/index.tsx","pages/main.tsx","app/index.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","list","item","filter","label","sumWrapper","sumItem","input","checkbox","checkboxIcon","select","wrapper","titleWrapper","title","imgWrapper","img","imgCount","description","paragraph","price","seller","sellerTitle","favWrapper","button","active","buttonWrapper","showMore","left","right","svg","ProductsContext","React","createContext","products","SellersContext","sellers","withSorting","Component","props","_useState","useState","_useState2","Object","slicedToArray","setSellers","fetchSellers","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","_ref2","data","wrap","_context","prev","next","fetch","then","res","json","sent","abrupt","stop","apply","this","arguments","useEffect","_ref3","_callee2","loadedSellers","_context2","load","react_default","createElement","context_sellers","Provider","value","name","type","default_value","placeholder","rule","array","category","from","to","bottomCheck","Number","topCheck","showOnlyFav","favourites","includes","id","initialFilters","filters","reduce","acc","el","objectSpread","defineProperty","filterRules","FiltersContext","updateFilters","setFilters","context_filters","newFilters","sorting","popularity","slice","sort","b","date","disabled","SortingContext","sortingData","updateSorting","setValue","context_sorting","val","FavouritesContext","addProductToFav","removeProductFromFav","setFavourites","getFavourites","cached","localStorage","getItem","JSON","parse","localFavourites","context_favourites","newFav","concat","toConsumableArray","setItem","stringify","Checkbox","context","useContext","className","styles","checked","onChange","Select","find","option","react_select_browser_esm","options","selectedOption","isClearable","SumRange","onFieldChange","postfix","e","currentTarget","isNaN","filterValue","htmlFor","autoComplete","mapper","inputs_Select","sum_range","inputs_SumRange","inputs_Checkbox","Fitlers","cn","map","key","SortingItem","buttonClassNames","onClick","Sorting","values","Sorting_SortingItem","Controls","Filters","Controls_Sorting","_extends","assign","target","i","length","source","prototype","hasOwnProperty","call","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","heart_ref2","d","heart_SvgHeart","svgRef","width","height","viewBox","ref","ForwardRef","forwardRef","__webpack_require__","p","FavButton","isFav","ProductPreview","sellersContext","favouritesCtx","sellerId","relationships","toUpperCase","src","pictures","alt","react","toFixed","replace","renderPrice","rating","ProductsList_FavButton","ProductsList","shownAmount","setShownAmount","sortingValue","product","ProductsList_ProductPreview","Array","fill","_el","index","Main","components_Controls","components_ProductsList","composition","compose","withSellers","withFilters","withFavourites","items","setItems","_useState3","_useState4","filteredItems","setFilteredItems","sortingCtx","fetchItems","loadedItems","sortingRule","debounce","setTimeout","newItems","entries","_ref4","_ref5","sortedItems","clearTimeout","context_products","style","main","Boolean","window","location","hostname","match","ReactDOM","render","app","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ec3da4f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"filters_list__3z1zl\",\"item\":\"filters_item__1DG2K\",\"filter\":\"filters_filter__1W6B6\",\"label\":\"filters_label__3iW7P\",\"sumWrapper\":\"filters_sumWrapper__1hpZ5\",\"sumItem\":\"filters_sumItem__2xDcr\",\"input\":\"filters_input__1wgcO\",\"checkbox\":\"filters_checkbox__2yt6Y\",\"checkboxIcon\":\"filters_checkboxIcon__1_hKP\",\"select\":\"filters_select__21NvQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"product_wrapper__38Dzq\",\"titleWrapper\":\"product_titleWrapper__3YGpp\",\"title\":\"product_title__JXMir\",\"imgWrapper\":\"product_imgWrapper__2G9Nr\",\"img\":\"product_img__3L8A9\",\"imgCount\":\"product_imgCount__1Jcfn\",\"description\":\"product_description__3pIp5\",\"paragraph\":\"product_paragraph__3KLdm\",\"price\":\"product_price__1s5VZ\",\"seller\":\"product_seller__1Fu1n\",\"sellerTitle\":\"product_sellerTitle__2eZmR\",\"favWrapper\":\"product_favWrapper__3QR55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"sorting_list__1N_-M\",\"item\":\"sorting_item__d7M3Z\",\"button\":\"sorting_button__2QjyC\",\"active\":\"sorting_active__IhIAB\",\"buttonWrapper\":\"sorting_buttonWrapper__3SmYP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"products_list__37gKT\",\"item\":\"products_item__3wjct\",\"showMore\":\"products_showMore__1aihX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"controls_wrapper__1T-5V\",\"left\":\"controls_left__rCbEL\",\"right\":\"controls_right__RVvaG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"fav_button__2sd77\",\"svg\":\"fav_svg__3SAjh\",\"active\":\"fav_active__2kfVZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"app_wrapper__1ViEZ\"};","import React from 'react'\n\ntype Base = {\n  address: {\n    lat: number\n    lng: number\n  }\n  category: string\n  id: string\n  pictures: string[]\n  price: number\n  relationships: {\n    seller: string\n  }\n  title: string\n}\n\ninterface IAuto extends Base {\n  body_type: string\n  gearbox: string\n  year: number\n}\n\ninterface ILaptop extends Base {\n  laptop_type: string\n  processor: string\n  ram: string\n  screen: string\n}\n\ninterface ICamera extends Base {\n  camera_type: string\n  matrix_resolution: number\n  video_resolution: string\n}\n\ninterface IImmovable extends Base {\n  property_type: string\n  rooms: number\n  square: number\n}\n\nexport type IProduct = IAuto | ILaptop | ICamera | IImmovable\n\ninterface IContext {\n  products: IProduct[]\n}\n\nconst ProductsContext = React.createContext<IContext>({\n  products: []\n})\n\nexport default ProductsContext\n","import React from 'react'\n\nexport interface ISeller {\n  category: string\n  isCompany: boolean\n  name: string\n  rating: number\n  id: string\n}\n\ninterface IContext {\n  sellers: ISeller[]\n}\n\nconst SellersContext = React.createContext<IContext>({\n  sellers: []\n})\n\nexport default SellersContext\n","import React, { useState, useEffect } from 'react'\nimport SellersContext, { ISeller } from 'Context/sellers'\n\nconst withSorting = (Component: any) => (props: any) => {\n  const [ sellers, setSellers ] = useState<ISeller[]>([])\n\n  const fetchSellers = async () => {\n    const url = 'https://avito.dump.academy/sellers'\n    const { data } = await fetch(url).then((res) => res.json())\n    return data\n  }\n\n  useEffect(() => {\n    const load = async () => {\n      const loadedSellers = await fetchSellers()\n      setSellers(loadedSellers)\n    }\n\n    load()\n  }, [])\n\n  return (\n    <SellersContext.Provider value={{ sellers }}>\n      <Component {...props} />\n    </SellersContext.Provider>\n  )\n}\n\nexport default withSorting\n","import { IProduct } from 'Context/products'\n\ntype sumval = {\n  from: string\n  to: string\n}\n\nconst sumRule = (array: IProduct[], value: sumval) => (\n  array.filter((item) => {\n    const bottomCheck = value.from ? Number(value.from) < item.price : true\n    const topCheck = value.to ? Number(value.to) > item.price : true\n    return bottomCheck && topCheck\n  })\n)\n\nconst favRule = (array: IProduct[], showOnlyFav: boolean, favourites: string[]) => (\n  showOnlyFav ? array.filter((item) => favourites.includes(item.id)) : array\n)\n\nconst data: IFilter[] = [\n  {\n    name: 'type',\n    title: 'Категория',\n    type: 'select',\n    default_value: null,\n    placeholder: '',\n    data: [\n      { value: 'immovable', label: 'Недвижимость' },\n      { value: 'cameras', label: 'Фотоаппараты' },\n      { value: 'auto', label: 'Автомобили' },\n      { value: 'laptops', label: 'Ноутбуки' }\n    ],\n    rule: (array: IProduct[], category: string) => category ? array.filter((item) => item.category === category) : array\n  },\n  {\n    name: 'sum',\n    title: 'Сумма',\n    type: 'sum_range',\n    default_value: {\n      from: '',\n      to: ''\n    },\n    rule: sumRule\n  },\n  {\n    name: 'show_only_fav',\n    title: 'Показывать только избранное',\n    type: 'checkbox',\n    default_value: false,\n    rule: favRule\n  }\n]\n\ninterface IBaseFilter {\n  name: string\n  title: string\n}\n\nexport interface ISelectFilter extends IBaseFilter {\n  type: 'select'\n  default_value: null\n  placeholder: string\n  data: selectOption[]\n  rule: (array: IProduct[], category: string) => IProduct[]\n}\n\nexport type selectOption = {\n  value: string\n  label: string\n}\n\nexport interface ISumRangeFilter extends IBaseFilter {\n  type: 'sum_range'\n  default_value: sumval\n  rule: (array: IProduct[], value: sumval) => IProduct[]\n}\n\nexport interface ICheckFilter extends IBaseFilter {\n  type: 'checkbox'\n  default_value: boolean\n  rule: (array: IProduct[], showOnlyFav: boolean, favourites: string[]) => IProduct[]\n}\n\nexport type IFilter = ISelectFilter | ISumRangeFilter | ICheckFilter\n\nexport default data\n","import React from 'react'\nimport filters from './filters-data'\nimport { IProduct } from 'Context/products'\n\nexport const initialFilters = filters.reduce((acc, el) => ({ ...acc, [el.name]: el.default_value }), {})\n\ntype rules = {\n  [key: string]: (array: IProduct[], value: any, favourites?: string[]) => any[]\n}\n\nexport const filterRules: rules = filters.reduce((acc, el) => ({ ...acc, [el.name]: el.rule }), {})\n\nexport interface IFiltersValues {\n  [key: string]: any\n}\n\nexport interface IFiltersContext {\n  filters: IFiltersValues\n  updateFilters: (name: string, value: any) => void\n}\n\nconst FiltersContext = React.createContext<IFiltersContext>({\n  filters: initialFilters,\n  updateFilters: () => null\n})\n\nexport default FiltersContext\n","import React, { useState } from 'react'\n\nimport FiltersContext, { initialFilters, IFiltersValues } from 'Context/filters'\n\nconst withSorting = (Component: any) => (props: any) => {\n  const [ filters, setFilters ] = useState<IFiltersValues>(initialFilters)\n\n  const updateFilters = (name: string, value: any) => {\n    const newFilters = { ...filters, [name]: value }\n    setFilters(newFilters)\n  }\n\n  return (\n    <FiltersContext.Provider value={{ filters, updateFilters }}>\n      <Component {...props} />\n    </FiltersContext.Provider>\n  )\n}\n\nexport default withSorting\n","import { IProduct } from 'Context/products'\n\nconst popularitySorting: sortingRule = (array) => array.slice()\n\nconst priceSorting: sortingRule = (array) => (\n  array.slice().sort((a, b) => {\n    if (!a.price) return 1\n    if (!b.price) return -1\n    if (a.price > b.price) return 1\n    if (a.price < b.price) return -1\n    return 0\n  })\n)\n\nconst dateSorting: sortingRule = (array) => array.slice()\n\nconst sorting: ISortingData = {\n  popularity: {\n    title: 'По популярности',\n    value: 'popularity',\n    rule: popularitySorting\n  },\n  price: {\n    title: 'По возрастанию цены',\n    value: 'price',\n    rule: priceSorting\n  },\n  date: {\n    title: 'По дате размещения объявлений',\n    value: 'date',\n    disabled: true,\n    rule: dateSorting\n  }\n}\n\nexport type sortingValue = 'popularity' | 'price' | 'date'\n\nexport type ISortingData = {\n  [key in sortingValue]: ISorting\n}\n\nexport interface ISorting {\n  title: string\n  value: sortingValue\n  disabled?: boolean\n  rule: sortingRule\n}\n\ntype sortingRule = (array: IProduct[]) => IProduct[]\n\nexport default sorting\n","import React from 'react'\nimport sortingData, { ISortingData, sortingValue } from './sorting-data'\n\nexport interface ISortingContext {\n  sortingData: ISortingData\n  value: sortingValue\n  updateSorting: (value: sortingValue) => void\n}\n\nconst SortingContext = React.createContext<ISortingContext>({\n  sortingData,\n  value: 'popularity',\n  updateSorting: () => null\n})\n\nexport default SortingContext\n","import React, { useState } from 'react'\nimport SortingContext from 'Context/sorting'\nimport sortingData, { sortingValue } from 'Context/sorting/sorting-data'\n\nconst withSorting = (Component: any) => (props: any) => {\n  const [value, setValue] = useState<sortingValue>('popularity')\n\n  const updateSorting = (val: sortingValue) => {\n    if (val === value) return\n    setValue(val)\n  }\n\n  return (\n    <SortingContext.Provider value={{ sortingData, value, updateSorting }}>\n      <Component {...props} />\n    </SortingContext.Provider>\n  )\n}\n\nexport default withSorting\n","import React from 'react'\n\nexport interface IFavouritesContext {\n  favourites: string[]\n  addProductToFav: (id: string) => void\n  removeProductFromFav: (id: string) => void\n}\n\nconst FavouritesContext = React.createContext<IFavouritesContext>({\n  favourites: [],\n  addProductToFav: () => null,\n  removeProductFromFav: () => null\n})\n\nexport default FavouritesContext\n","import React, { useState, useEffect } from 'react'\nimport FavouritesContext from 'Context/favourites'\n\nconst withSorting = (Component: any) => (props: any) => {\n  const [ favourites, setFavourites ] = useState<string[]>([])\n\n  const getFavourites = async () => {\n    const cached = localStorage.getItem('avito-fav')\n    const data = cached ? JSON.parse(cached) : []\n    return data\n  }\n\n  const addProductToFav = (id: string) => {\n    const newFav = [ ...favourites, id ]\n    setFavourites(newFav)\n    localStorage.setItem('avito-fav', JSON.stringify(newFav))\n  }\n\n  const removeProductFromFav = (id: string) => {\n    const newFav = favourites.filter((el: string) => el !== id)\n    setFavourites(newFav)\n    localStorage.setItem('avito-fav', JSON.stringify(newFav))\n  }\n\n  useEffect(() => {\n    const load = async () => {\n      const localFavourites = await getFavourites()\n      setFavourites(localFavourites)\n    }\n\n    load()\n  }, [])\n\n  return (\n    <FavouritesContext.Provider value={{ favourites, addProductToFav, removeProductFromFav }}>\n      <Component {...props} />\n    </FavouritesContext.Provider>\n  )\n}\n\nexport default withSorting\n","import React, { useContext } from 'react'\nimport FiltersContext from 'Context/filters'\nimport { ICheckFilter } from 'Context/filters-data'\n\nimport styles from '../filters.module.scss'\n\nconst Checkbox = (props: ICheckFilter) => {\n  const context = useContext(FiltersContext)\n\n  const onChange = () => {\n    context.updateFilters(props.name, !context.filters[props.name])\n  }\n\n  return (\n    <div className={styles.filter}>\n      <p className={styles.label}>{props.title}</p>\n      <label>\n        <input\n          type='checkbox'\n          id={props.name}\n          checked={context.filters[props.name]}\n          onChange={onChange}\n          className={styles.checkbox}\n        />\n        <span className={styles.checkboxIcon}/>\n      </label>\n    </div>\n  )\n}\n\nexport default Checkbox\n","import React, { useContext } from 'react'\nimport { ISelectFilter, selectOption } from 'Context/filters-data'\nimport FiltersContext from 'Context/filters'\nimport ReactSelect from 'react-select'\n\nimport styles from '../filters.module.scss'\n\nconst Select = (props: ISelectFilter) => {\n  const context = useContext(FiltersContext)\n\n  const onChange = (selectedOption: selectOption | null) => {\n    const value = selectedOption ? selectedOption.value : null\n    context.updateFilters(props.name, value)\n  }\n\n  const val = props.data.find((option) => option.value === context.filters[props.name])\n\n  return (\n    <div className={styles.filter}>\n      <label className={styles.label}>{props.title}</label>\n      <ReactSelect\n        value={val}\n        options={props.data}\n        onChange={onChange}\n        placeholder={props.placeholder}\n        isClearable={true}\n        className={styles.select}\n      />\n    </div>\n  )\n}\n\nexport default Select\n","import React, { useContext } from 'react'\nimport FiltersContext from 'Context/filters'\nimport { ISumRangeFilter } from 'Context/filters-data'\n\nimport styles from '../filters.module.scss'\n\nconst SumRange = (props: ISumRangeFilter) => {\n  const context = useContext(FiltersContext)\n\n  const onFieldChange = (postfix: string) => (e: React.FormEvent<HTMLInputElement>) => {\n    const value = e.currentTarget.value\n    if (!isNaN(Number(value)) || !value) {\n      const filterValue = { ...context.filters[props.name], [postfix]: value }\n      context.updateFilters(props.name, filterValue)\n    }\n  }\n\n  return (\n    <div className={styles.filter}>\n      <p className={styles.label}>{props.title}</p>\n      <div className={styles.sumWrapper}>\n        <div className={styles.sumItem}>\n          <label htmlFor={`${props.name}_from`} className={styles.label}>От</label>\n          <input\n            type='text'\n            id={`${props.name}_from`}\n            value={context.filters[props.name].from}\n            onChange={onFieldChange('from')}\n            className={styles.input}\n            autoComplete='off'\n          />\n        </div>\n        <div className={styles.sumItem}>\n          <label htmlFor={`${props.name}_to`} className={styles.label}>До</label>\n          <input\n            type='text'\n            id={`${props.name}_to`}\n            value={context.filters[props.name].to}\n            onChange={onFieldChange('to')}\n            className={styles.input}\n            autoComplete='off'\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default SumRange\n","import cn from 'classnames'\nimport React from 'react'\nimport filters from 'Context/filters-data'\nimport Checkbox from './inputs/Checkbox'\nimport Select from './inputs/Select'\nimport SumRange from './inputs/SumRange'\n\nimport styles from './filters.module.scss'\n\ninterface IProps {\n  cn: string\n}\n\nconst mapper = {\n  select: (props: any) => <Select {...props} />,\n  sum_range: (props: any) => <SumRange {...props} />,\n  checkbox: (props: any) => <Checkbox {...props} />\n}\n\nconst Fitlers = (props: IProps) => {\n  const renderFilters = () => (\n    filters.map((item) => (\n      <li key={item.name} className={styles.item}>\n        {mapper[item.type](item)}\n      </li>\n    ))\n  )\n  return (\n    <ul className={cn(styles.list, props.cn)}>\n      {renderFilters()}\n    </ul>\n  )\n}\n\nexport default Fitlers\n","import cn from 'classnames'\nimport React, { useContext } from 'react'\nimport SortingContext from 'Context/sorting'\nimport { ISorting } from 'Context/sorting/sorting-data'\n\nimport styles from './sorting.module.scss'\n\nconst SortingItem = (props: ISorting) => {\n  const context = useContext(SortingContext)\n\n  const onClick = () => {\n    context.updateSorting(props.value)\n  }\n\n  const buttonClassNames = cn(styles.button, { [styles.active]: context.value === props.value })\n\n  return (\n    <div className={styles.buttonWrapper}>\n      <button\n        type='button'\n        className={buttonClassNames}\n        disabled={props.disabled}\n        onClick={onClick}\n      >\n        {props.title}\n      </button>\n    </div>\n  )\n}\n\nexport default SortingItem\n","import cn from 'classnames'\nimport React, { useContext } from 'react'\nimport SortingItem from './SortingItem'\nimport SortingContext from 'Context/sorting'\n\nimport styles from './sorting.module.scss'\n\ninterface IProps {\n  cn: string\n}\n\nconst Sorting = (props: IProps) => {\n  const context = useContext(SortingContext)\n\n  const renderSortings = () => (\n    Object.values(context.sortingData).map((item) => (\n      <li key={item.value} className={styles.item}>\n        <SortingItem {...item} />\n      </li>\n    ))\n  )\n\n  return (\n    <ul className={cn(styles.list, props.cn)}>\n      {renderSortings()}\n    </ul>\n  )\n}\n\nexport default Sorting\n","import React from 'react'\nimport Filters from './Filters'\nimport Sorting from './Sorting'\n\nimport styles from './controls.module.scss'\n\nconst Controls = () => {\n  return (\n    <div className={styles.wrapper}>\n      <Filters cn={styles.left}/>\n      <Sorting cn={styles.right} />\n    </div>\n  )\n}\n\nexport default Controls\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z\"\n});\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"-1 -1 26 26\",\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart.4e2b41a9.svg\";\nexport { ForwardRef as ReactComponent };","import cn from 'classnames'\nimport React from 'react'\nimport { ReactComponent as Logo } from './heart.svg'\n\nimport styles from './fav.module.scss'\n\ninterface IProps {\n  isFav: boolean\n  onClick: () => void\n}\n\nconst FavButton = (props: IProps) => {\n  const { isFav, onClick } = props\n  return (\n    <button type='button' onClick={onClick} className={cn(styles.button, { [styles.active]: isFav })}>\n      <Logo className={styles.svg}/>\n    </button>\n  )\n}\n\nexport default FavButton\n","import cn from 'classnames'\nimport React, { useContext, Fragment } from 'react'\nimport { getFormattedPrice } from 'Src/utils'\nimport SellersContext from 'Context/sellers'\nimport { IProduct } from 'Context/products'\nimport FavouritesContext from 'Context/favourites'\nimport FavButton from './FavButton'\n\nimport styles from './product.module.scss'\n\nconst ProductPreview = (props: IProduct) => {\n  const sellersContext = useContext(SellersContext)\n  const favouritesCtx = useContext(FavouritesContext)\n\n  const sellerId = props.relationships.seller\n  const seller = sellersContext.sellers.find((el) => el.id === sellerId)\n\n  const isFav = favouritesCtx.favourites.includes(props.id)\n\n  const onFavClick = () => {\n    return isFav\n      ? favouritesCtx.removeProductFromFav(props.id)\n      : favouritesCtx.addProductToFav(props.id)\n  }\n\n  const renderSellerInfo = () => {\n    return seller && (\n      <Fragment>\n        <p className={cn(styles.seller, styles.paragraph)}>\n          <p className={styles.sellerTitle}>Продавец:</p>\n          <p className={styles.paragraph}>{seller.name}</p>\n          <p className={styles.paragraph}>{seller.rating}</p>\n        </p>\n      </Fragment>\n    )\n  }\n\n  const renderPrice = () => {\n    return props.price\n      ? (\n        <Fragment>\n          <span>Стоимость:</span>\n          <span>{`${getFormattedPrice(props.price)}₽`}</span>\n        </Fragment>\n      )\n      : 'Цена отсутствует'\n  }\n\n  return (\n    <article className={styles.wrapper}>\n      <div className={styles.titleWrapper}>\n        <h3 className={styles.title}>{props.title.slice(0, 1).toUpperCase() + props.title.slice(1)}</h3>\n      </div>\n      <div className={styles.imgWrapper}>\n        <img src={props.pictures[0]} alt={props.title} className={styles.img}/>\n        <span className={styles.imgCount}>{props.pictures.length - 1}</span>\n      </div>\n      <div className={styles.description}>\n        <p className={cn(styles.paragraph, styles.price)}>\n          {renderPrice()}\n        </p>\n        <p className={styles.paragraph}>10 октября 10:37</p>\n        {renderSellerInfo()}\n      </div>\n      <div className={styles.favWrapper}>\n        <FavButton isFav={isFav} onClick={onFavClick}/>\n      </div>\n    </article>\n  )\n}\n\nexport default ProductPreview\n","export const getFormattedPrice = (price: number | string) => {\n  return Number(price).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$& ')\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport ProductsContext from 'Context/products'\nimport SortingContext from 'Context/sorting'\nimport ProductPreview from './ProductPreview'\n\nimport styles from './products.module.scss'\n\nconst ProductsList = () => {\n  const [shownAmount, setShownAmount] = useState(12)\n  const { products } = useContext(ProductsContext)\n  const { value: sortingValue } = useContext(SortingContext)\n\n  useEffect(() => {\n    setShownAmount(12)\n  }, [products.length, sortingValue])\n\n  const renderProducts = () => {\n    return products.slice(0, shownAmount).map((product) => (\n      <li key={product.id} className={styles.item}>\n        <ProductPreview {...product} />\n      </li>\n    ))\n  }\n\n  const renderFlexFixers = () => {\n    return (new Array(6).fill(1)).map((_el, index) => <li key={index} className={styles.item} />)\n  }\n\n  const showMore = () => {\n    setShownAmount(shownAmount + 12)\n  }\n\n  const renderShowMoreButton = () => {\n    return products.length > shownAmount\n      ? <button type='button' onClick={showMore} className={styles.showMore}>Показать еще</button>\n      : null\n  }\n\n  return (\n    <div>\n      <ul className={styles.list}>\n        {renderProducts()}\n        {renderFlexFixers()}\n      </ul>\n      {renderShowMoreButton()}\n    </div>\n  )\n}\n\nexport default ProductsList\n","import React from 'react'\nimport Controls from 'Src/components/Controls'\nimport ProductsList from 'Src/components/ProductsList'\n\nconst Main = () => {\n  return (\n    <div>\n      <Controls />\n      <ProductsList />\n    </div>\n  )\n}\n\nexport default Main\n","import { compose } from '@typed/compose'\nimport React, { useState, useEffect, useContext } from 'react'\nimport ProductsContext, { IProduct } from 'Context/products'\nimport withSellers from './with-sellers'\nimport withFilters from './with-filters'\nimport FiltersContext, { filterRules } from 'Context/filters'\nimport withSorting from './with-sorting'\nimport SortingContext from 'Context/sorting'\nimport withFavourites from './with-favourites'\nimport FavouritesContext from 'Context/favourites'\nimport Main from 'Src/pages/main'\n\nimport style from './app.module.scss'\n\nconst App = () => {\n  const [ items, setItems ] = useState<IProduct[]>([])\n  const [ filteredItems, setFilteredItems ] = useState<IProduct[]>([])\n\n  const { filters } = useContext(FiltersContext)\n\n  const sortingCtx = useContext(SortingContext)\n\n  const { favourites } = useContext(FavouritesContext)\n\n  const fetchItems = async () => {\n    const url = 'http://avito.dump.academy/products'\n    const { data } = await fetch(url).then((res) => res.json())\n    return data\n  }\n\n  useEffect(() => {\n    const load = async () => {\n      const loadedItems = await fetchItems()\n      setItems(loadedItems)\n      setFilteredItems(loadedItems)\n    }\n\n    load()\n  }, [])\n\n  const sortingValue = sortingCtx.value\n  const sortingRule = sortingCtx.sortingData[sortingValue].rule\n\n  useEffect(() => {\n    const updateItems = () => {\n      const newItems = Object.entries(filterRules).reduce((acc, [ key, rule ]) => {\n        return rule(acc, filters[key], favourites)\n      }, items)\n      const sortedItems = sortingRule(newItems)\n      setFilteredItems(sortedItems)\n    }\n\n    const debounce = setTimeout(updateItems, 300)\n    return () => { clearTimeout(debounce) }\n  }, [favourites, filters, items, sortingRule])\n\n  return (\n    <ProductsContext.Provider value={{ products: filteredItems }}>\n      <div className={style.wrapper}>\n        <Main />\n      </div>\n    </ProductsContext.Provider>\n  )\n}\n\nconst composition = compose(\n  withSellers,\n  withFilters,\n  withFavourites,\n  withSorting\n)\n\nexport default composition(App)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\n\nimport App from './app'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}