(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,t,a){e.exports={list:"filters_list__3z1zl",item:"filters_item__1DG2K",filter:"filters_filter__1W6B6",label:"filters_label__3iW7P",sumWrapper:"filters_sumWrapper__1hpZ5",sumItem:"filters_sumItem__2xDcr",input:"filters_input__1wgcO",checkbox:"filters_checkbox__2yt6Y",checkboxIcon:"filters_checkboxIcon__1_hKP",select:"filters_select__21NvQ"}},function(e,t,a){e.exports={wrapper:"product_wrapper__38Dzq",titleWrapper:"product_titleWrapper__3YGpp",title:"product_title__JXMir",imgWrapper:"product_imgWrapper__2G9Nr",img:"product_img__3L8A9",imgCount:"product_imgCount__1Jcfn",description:"product_description__3pIp5",paragraph:"product_paragraph__3KLdm",price:"product_price__1s5VZ",seller:"product_seller__1Fu1n",sellerTitle:"product_sellerTitle__2eZmR",favWrapper:"product_favWrapper__3QR55"}},,,,,,,,function(e,t,a){e.exports={list:"sorting_list__1N_-M",item:"sorting_item__d7M3Z",button:"sorting_button__2QjyC",active:"sorting_active__IhIAB",buttonWrapper:"sorting_buttonWrapper__3SmYP"}},,function(e,t,a){e.exports={list:"products_list__37gKT",item:"products_item__3wjct",showMore:"products_showMore__1aihX"}},function(e,t,a){e.exports={wrapper:"controls_wrapper__1T-5V",left:"controls_left__rCbEL",right:"controls_right__RVvaG"}},function(e,t,a){e.exports={button:"fav_button__2sd77",svg:"fav_svg__3SAjh",active:"fav_active__2kfVZ"}},,,,,,function(e,t,a){e.exports={wrapper:"app_wrapper__1ViEZ"}},,,,function(e,t,a){e.exports=a(35)},,,,,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(8),l=a.n(c),u=(a(29),a(3)),i=a.n(u),o=a(7),s=a(4),p=a(23),m=n.a.createContext({products:[]}),f=n.a.createContext({sellers:[]}),v=function(e){return function(t){var a=Object(r.useState)([]),c=Object(s.a)(a,2),l=c[0],u=c[1],p=function(){var e=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://avito.dump.academy/sellers").then(function(e){return e.json()});case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){!function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),n.a.createElement(f.Provider,{value:{sellers:l}},n.a.createElement(e,t))}},d=a(5),_=a(9),b=[{name:"type",title:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",type:"select",default_value:null,placeholder:"",data:[{value:"immovable",label:"\u041d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c"},{value:"cameras",label:"\u0424\u043e\u0442\u043e\u0430\u043f\u043f\u0430\u0440\u0430\u0442\u044b"},{value:"auto",label:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0438"},{value:"laptops",label:"\u041d\u043e\u0443\u0442\u0431\u0443\u043a\u0438"}],rule:function(e,t){return t?e.filter(function(e){return e.category===t}):e}},{name:"sum",title:"\u0421\u0443\u043c\u043c\u0430",type:"sum_range",default_value:{from:"",to:""},rule:function(e,t){return e.filter(function(e){var a=!t.from||Number(t.from)<e.price,r=!t.to||Number(t.to)>e.price;return a&&r})}},{name:"show_only_fav",title:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",type:"checkbox",default_value:!1,rule:function(e,t,a){return t?e.filter(function(e){return a.includes(e.id)}):e}}],E=b.reduce(function(e,t){return Object(_.a)({},e,Object(d.a)({},t.name,t.default_value))},{}),h=b.reduce(function(e,t){return Object(_.a)({},e,Object(d.a)({},t.name,t.rule))},{}),g=n.a.createContext({filters:E,updateFilters:function(){return null}}),O=function(e){return function(t){var a=Object(r.useState)(E),c=Object(s.a)(a,2),l=c[0],u=c[1];return n.a.createElement(g.Provider,{value:{filters:l,updateFilters:function(e,t){var a=Object(_.a)({},l,Object(d.a)({},e,t));u(a)}}},n.a.createElement(e,t))}},j={popularity:{title:"\u041f\u043e \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438",value:"popularity",rule:function(e){return e.slice()}},price:{title:"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u044b",value:"price",rule:function(e){return e.slice().sort(function(e,t){return e.price?t.price?e.price>t.price?1:e.price<t.price?-1:0:-1:1})}},date:{title:"\u041f\u043e \u0434\u0430\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439",value:"date",disabled:!0,rule:function(e){return e.slice()}}},N=n.a.createContext({sortingData:j,value:"popularity",updateSorting:function(){return null}}),x=function(e){return function(t){var a=Object(r.useState)("popularity"),c=Object(s.a)(a,2),l=c[0],u=c[1];return n.a.createElement(N.Provider,{value:{sortingData:j,value:l,updateSorting:function(e){e!==l&&u(e)}}},n.a.createElement(e,t))}},w=a(22),y=n.a.createContext({favourites:[],addProductToFav:function(){return null},removeProductFromFav:function(){return null}}),C=function(e){return function(t){var a=Object(r.useState)([]),c=Object(s.a)(a,2),l=c[0],u=c[1],p=function(){var e=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("avito-fav"),a=t?JSON.parse(t):[],e.abrupt("return",a);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){!function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),n.a.createElement(y.Provider,{value:{favourites:l,addProductToFav:function(e){var t=[].concat(Object(w.a)(l),[e]);u(t),localStorage.setItem("avito-fav",JSON.stringify(t))},removeProductFromFav:function(e){var t=l.filter(function(t){return t!==e});u(t),localStorage.setItem("avito-fav",JSON.stringify(t))}}},n.a.createElement(e,t))}},k=a(6),F=a.n(k),S=a(1),W=a.n(S),P=function(e){var t=Object(r.useContext)(g);return n.a.createElement("div",{className:W.a.filter},n.a.createElement("p",{className:W.a.label},e.title),n.a.createElement("label",null,n.a.createElement("input",{type:"checkbox",id:e.name,checked:t.filters[e.name],onChange:function(){t.updateFilters(e.name,!t.filters[e.name])},className:W.a.checkbox}),n.a.createElement("span",{className:W.a.checkboxIcon})))},I=a(21),T=function(e){var t=Object(r.useContext)(g),a=e.data.find(function(a){return a.value===t.filters[e.name]});return n.a.createElement("div",{className:W.a.filter},n.a.createElement("label",{className:W.a.label},e.title),n.a.createElement(I.a,{value:a,options:e.data,onChange:function(a){var r=a?a.value:null;t.updateFilters(e.name,r)},placeholder:e.placeholder,isClearable:!0,className:W.a.select}))},D=function(e){var t=Object(r.useContext)(g),a=function(a){return function(r){var n=r.currentTarget.value;if(!isNaN(Number(n))||!n){var c=Object(_.a)({},t.filters[e.name],Object(d.a)({},a,n));t.updateFilters(e.name,c)}}};return n.a.createElement("div",{className:W.a.filter},n.a.createElement("p",{className:W.a.label},e.title),n.a.createElement("div",{className:W.a.sumWrapper},n.a.createElement("div",{className:W.a.sumItem},n.a.createElement("label",{htmlFor:"".concat(e.name,"_from"),className:W.a.label},"\u041e\u0442"),n.a.createElement("input",{type:"text",id:"".concat(e.name,"_from"),value:t.filters[e.name].from,onChange:a("from"),className:W.a.input,autoComplete:"off"})),n.a.createElement("div",{className:W.a.sumItem},n.a.createElement("label",{htmlFor:"".concat(e.name,"_to"),className:W.a.label},"\u0414\u043e"),n.a.createElement("input",{type:"text",id:"".concat(e.name,"_to"),value:t.filters[e.name].to,onChange:a("to"),className:W.a.input,autoComplete:"off"}))))},J={select:function(e){return n.a.createElement(T,e)},sum_range:function(e){return n.a.createElement(D,e)},checkbox:function(e){return n.a.createElement(P,e)}},M=function(e){return n.a.createElement("ul",{className:F()(W.a.list,e.cn)},b.map(function(e){return n.a.createElement("li",{key:e.name,className:W.a.item},J[e.type](e))}))},R=a(10),Z=a.n(R),B=function(e){var t=Object(r.useContext)(N),a=F()(Z.a.button,Object(d.a)({},Z.a.active,t.value===e.value));return n.a.createElement("div",{className:Z.a.buttonWrapper},n.a.createElement("button",{type:"button",className:a,disabled:e.disabled,onClick:function(){t.updateSorting(e.value)}},e.title))},V=function(e){var t=Object(r.useContext)(N);return n.a.createElement("ul",{className:F()(Z.a.list,e.cn)},Object.values(t.sortingData).map(function(e){return n.a.createElement("li",{key:e.value,className:Z.a.item},n.a.createElement(B,e))}))},z=a(13),A=a.n(z),G=function(){return n.a.createElement("div",{className:A.a.wrapper},n.a.createElement(M,{cn:A.a.left}),n.a.createElement(V,{cn:A.a.right}))};function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Q=n.a.createElement("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"}),Y=function(e){var t=e.svgRef,a=L(e,["svgRef"]);return n.a.createElement("svg",K({width:24,height:24,viewBox:"-1 -1 26 26",ref:t},a),Q)},X=n.a.forwardRef(function(e,t){return n.a.createElement(Y,K({svgRef:t},e))}),$=(a.p,a(14)),q=a.n($),U=function(e){var t=e.isFav,a=e.onClick;return n.a.createElement("button",{type:"button",onClick:a,className:F()(q.a.button,Object(d.a)({},q.a.active,t))},n.a.createElement(X,{className:q.a.svg}))},H=a(2),ee=a.n(H),te=function(e){var t=Object(r.useContext)(f),a=Object(r.useContext)(y),c=e.relationships.seller,l=t.sellers.find(function(e){return e.id===c}),u=a.favourites.includes(e.id);return n.a.createElement("article",{className:ee.a.wrapper},n.a.createElement("div",{className:ee.a.titleWrapper},n.a.createElement("h3",{className:ee.a.title},e.title.slice(0,1).toUpperCase()+e.title.slice(1))),n.a.createElement("div",{className:ee.a.imgWrapper},n.a.createElement("img",{src:e.pictures[0],alt:e.title,className:ee.a.img}),n.a.createElement("span",{className:ee.a.imgCount},e.pictures.length-1)),n.a.createElement("div",{className:ee.a.description},n.a.createElement("p",{className:F()(ee.a.paragraph,ee.a.price)},function(){return e.price?n.a.createElement(r.Fragment,null,n.a.createElement("span",null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c:"),n.a.createElement("span",null,"".concat((t=e.price,Number(t).toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$& ")),"\u20bd"))):"\u0426\u0435\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442";var t}()),n.a.createElement("p",{className:ee.a.paragraph},"10 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 10:37"),l&&n.a.createElement(r.Fragment,null,n.a.createElement("p",{className:F()(ee.a.seller,ee.a.paragraph)},n.a.createElement("p",{className:ee.a.sellerTitle},"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446:"),n.a.createElement("p",{className:ee.a.paragraph},l.name),n.a.createElement("p",{className:ee.a.paragraph},l.rating)))),n.a.createElement("div",{className:ee.a.favWrapper},n.a.createElement(U,{isFav:u,onClick:function(){return u?a.removeProductFromFav(e.id):a.addProductToFav(e.id)}})))},ae=a(12),re=a.n(ae),ne=function(){var e=Object(r.useState)(12),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(r.useContext)(m).products,u=Object(r.useContext)(N).value;Object(r.useEffect)(function(){c(12)},[l.length,u]);var i=function(){c(a+12)};return n.a.createElement("div",null,n.a.createElement("ul",{className:re.a.list},l.slice(0,a).map(function(e){return n.a.createElement("li",{key:e.id,className:re.a.item},n.a.createElement(te,e))}),new Array(6).fill(1).map(function(e,t){return n.a.createElement("li",{key:t,className:re.a.item})})),l.length>a?n.a.createElement("button",{type:"button",onClick:i,className:re.a.showMore},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435"):null)},ce=function(){return n.a.createElement("div",null,n.a.createElement(G,null),n.a.createElement(ne,null))},le=a(20),ue=a.n(le),ie=Object(p.a)(v,O,C,x)(function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),u=Object(s.a)(l,2),p=u[0],f=u[1],v=Object(r.useContext)(g).filters,d=Object(r.useContext)(N),_=Object(r.useContext)(y).favourites,b=function(){var e=Object(o.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("http://avito.dump.academy/products").then(function(e){return e.json()});case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){!function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,c(t),f(t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var E=d.value,O=d.sortingData[E].rule;return Object(r.useEffect)(function(){var e=setTimeout(function(){var e=Object.entries(h).reduce(function(e,t){var a=Object(s.a)(t,2),r=a[0];return(0,a[1])(e,v[r],_)},a),t=O(e);f(t)},300);return function(){clearTimeout(e)}},[_,v,a,O]),n.a.createElement(m.Provider,{value:{products:p}},n.a.createElement("div",{className:ue.a.wrapper},n.a.createElement(ce,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[24,1,2]]]);
//# sourceMappingURL=main.ec3da4f2.chunk.js.map